"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useArray = void 0;
const react_1 = require("react");
const MainWindow_1 = require("../components/MainWindow");
function useArray(initial = [], comparator = MainWindow_1.eq) {
    const [arr, setArray] = (0, react_1.useState)(initial);
    const append = (0, react_1.useCallback)((item) => {
        setArray((prev) => [...prev, item]);
    }, []);
    const remove = (0, react_1.useCallback)((item) => {
        setArray((prev) => [...prev.filter((x) => !comparator(item)(x))]);
    }, [comparator]);
    const contains = (0, react_1.useCallback)((item) => {
        arr.some((x) => comparator(item)(x));
    }, [arr, comparator]);
    const pop = (0, react_1.useCallback)(() => {
        setArray((prev) => {
            if (prev.length === 0) {
                return prev;
            }
            const [head, ...tail] = prev;
            return [...tail];
        });
    }, []);
    const clear = (0, react_1.useCallback)(() => setArray([]), []);
    return { arr, append, remove, clear, pop, contains };
}
exports.useArray = useArray;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlQXJyYXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaG9va3MvdXNlQXJyYXkudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLGlDQUE4QztBQUM5Qyx5REFBOEM7QUFFOUMsU0FBZ0IsUUFBUSxDQUFJLFVBQWUsRUFBRSxFQUFFLGFBQTRDLGVBQUU7SUFDekYsTUFBTSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQU0sT0FBTyxDQUFDLENBQUM7SUFDL0MsTUFBTSxNQUFNLEdBQUcsSUFBQSxtQkFBVyxFQUFDLENBQUMsSUFBTyxFQUFFLEVBQUU7UUFDbkMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsTUFBTSxNQUFNLEdBQUcsSUFBQSxtQkFBVyxFQUN0QixDQUFDLElBQVMsRUFBRSxFQUFFO1FBQ1YsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUNELENBQUMsVUFBVSxDQUFDLENBQ2YsQ0FBQztJQUNGLE1BQU0sUUFBUSxHQUFHLElBQUEsbUJBQVcsRUFDeEIsQ0FBQyxJQUFTLEVBQUUsRUFBRTtRQUNWLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUMsRUFDRCxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FDcEIsQ0FBQztJQUNGLE1BQU0sR0FBRyxHQUFHLElBQUEsbUJBQVcsRUFBQyxHQUFHLEVBQUU7UUFDekIsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDZCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUNuQixPQUFPLElBQUksQ0FBQzthQUNmO1lBQ0QsTUFBTSxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztZQUM3QixPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNyQixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNQLE1BQU0sS0FBSyxHQUFHLElBQUEsbUJBQVcsRUFBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbEQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLENBQUM7QUFDekQsQ0FBQztBQTVCRCw0QkE0QkMifQ==